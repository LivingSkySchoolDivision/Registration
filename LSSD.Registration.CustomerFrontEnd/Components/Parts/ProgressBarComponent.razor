@using LSSD.Registration.Model
@using LSSD.Registration.Model.Forms
@using System.Linq;
@namespace LSSD.Registration.CustomerFrontEnd.BlazorComponents

@code {
    [Inject]
    LSSD.Registration.CustomerFrontEnd.Services.FormStepTrackerService StepTracker { get; set; }

    [Parameter]
    public int CurrentStep { get; set; } // Starts with zero, so we need to add one

    [Parameter]
    public int TotalSteps { get; set; }
}

<div class="progress" style="height: 5px;">
    @{
        int percentComplete = (int)Math.Round((decimal)(((decimal)(CurrentStep + 1) / (decimal)TotalSteps)) * 100, 0);
    }
    @if (percentComplete < 100)
    {
        <div class="progress-bar progress-bar-striped" role="progressbar" style="width: @(percentComplete)%" aria-valuenow="@(percentComplete)" aria-valuemin="0" aria-valuemax="100"></div>
    }
    else
    {
        <div class="progress-bar progress-bar-striped bg-success" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
    }
</div>